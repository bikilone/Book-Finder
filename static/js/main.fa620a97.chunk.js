(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){},21:function(e,t,a){e.exports=a(57)},27:function(e,t,a){},28:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),s=a.n(r),i=(a(27),a(5)),l=a(6),c=a(9),h=a(14),u=a(10),m=a(7),f=a(13),p=a(61),d=a(60);a(17);function g(e){var t=e.inputText,a=e.onInputChange,n=e.onSubmit,r=e.clearInput,s=e.onClick;return o.a.createElement("div",null,o.a.createElement("form",{action:"",onSubmit:n},o.a.createElement("input",{className:"input",type:"text",onChange:a,value:t}),o.a.createElement("span",{onClick:r},"X"),o.a.createElement("button",{onClick:s,className:"search-button",type:"submit"},"Search")))}var b=a(58);a(28);function k(e){var t=e.card,a=t.title,n=t.author,r=t.publisher,s=(t.link,t.image),i=e.id,l=e.bookshelf,c="white";return l.length>0&&l.forEach(function(e){e.id!=i||(c="#ff3d02")}),o.a.createElement("div",{className:"card"},o.a.createElement("img",{src:s,alt:""}),o.a.createElement("div",{className:"card-right"},o.a.createElement("div",{className:"card-rigth-top"},o.a.createElement("h1",null,a),o.a.createElement("svg",{onClick:function(t){e.saveInBookshelf(t,e.id,l,e.card)}},o.a.createElement("path",{fill:c,xmlns:"http://www.w3.org/2000/svg",className:"a",d:"M33.688,36.755h11.5l3.584-10.911L52.3,36.755H63.8l-9.307,6.739,3.53,10.965L48.771,47.72l-9.307,6.739,3.53-10.965Z",transform:"translate(-33.688 -25.844)"}))),o.a.createElement("p",{className:"author"},"By: ",n),o.a.createElement("p",{className:"publisher"},"Published By: ",r),o.a.createElement(b.a,{to:"/".concat(i)},o.a.createElement("button",{className:"button"},"See this Book"))))}a(31),a(32);function v(e){return o.a.createElement("div",{className:"landing"},e.message?e.message:"Nothing yet")}function E(e){return o.a.createElement("div",{className:"card-list"},e.cards.length>0?e.cards.map(function(t,a){return o.a.createElement(k,{card:t,key:t.id,id:t.id,saveInBookshelf:e.saveInBookshelf,bookshelf:e.bookshelf})}):o.a.createElement(v,{message:"Empty bookshelf"}))}function w(e){return e.length>50?e.slice(0,40)+"...":e}var S=function e(t,a){Object(l.a)(this,e),this.title=t.title?w(t.title):t.title,this.author=t.authors?function(e){return e.length>1?w(e.join(", ")):w(e)}(t.authors):"Unknown author",this.publisher=t.publisher?w(t.publisher):"Unknown publisher",this.image=t.imageLinks?t.imageLinks.thumbnail:"https://image.freepik.com/free-vector/books-stack-realistic_1284-4735.jpg",this.link=t.previewLink,this.id=a,this.categories=t.categories?t.categories:"Unknown",this.description=t.description?w(t.description):"n/a",this.pageCount=t.pageCount?t.pageCount:"n/a",this.publishedDate=t.publishedDate?t.publishedDate:"n/a"},y=a(19),N=a.n(y);a(54);function I(e){switch(e.error){case"empty input":return o.a.createElement("div",{className:"error"},"You must enter something in input");case"empty response":return o.a.createElement("div",{className:"error"},"There is no such book");case"something went wrong":return o.a.createElement("div",{className:"error"},"Something went wrong");default:return""}}var O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this))).state={id:e.id,saveInBookshelf:e.saveInBookshelf,bookshelf:e.bookshelf,data:""},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({bookshelf:e.bookshelf})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://www.googleapis.com/books/v1/volumes/".concat(this.state.id,"?key=").concat("AIzaSyAOaVBnu7fgtzZVvuSjWw9MaGmDE3P73sA")).then(function(e){return e.json()}).then(function(t){return new S(t.volumeInfo,e.state.id)}).then(function(t){e.setState({data:t}),console.log(t)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t="white";if(this.state.bookshelf.length>0&&this.state.bookshelf.forEach(function(a){a.id!=e.state.id||(t="#ff3d02")}),"string"!==typeof this.state.data){var a=this.state.data,n=a.categories,r=a.description,s=(a.industryIdentifiers,a.pageCount),i=a.publishedDate,l=a.image,c=a.title,h=a.publisher,u=a.author;return o.a.createElement("div",{className:"card single-card"},o.a.createElement("img",{src:l,alt:""}),o.a.createElement("div",{className:"card-right",style:{height:"500px"}},o.a.createElement("div",{className:"card-rigth-top"},o.a.createElement("h1",null,c),o.a.createElement("svg",{onClick:function(t){e.state.saveInBookshelf(t,e.state.id,e.state.bookshelf,e.state.data)}},o.a.createElement("path",{fill:t,xmlns:"http://www.w3.org/2000/svg",className:"a",d:"M33.688,36.755h11.5l3.584-10.911L52.3,36.755H63.8l-9.307,6.739,3.53,10.965L48.771,47.72l-9.307,6.739,3.53-10.965Z",transform:"translate(-33.688 -25.844)"}))),o.a.createElement("p",{className:"author"},"By: ",u),o.a.createElement("p",{className:"publisher"},"Category: ",n[0]),o.a.createElement("p",{className:"publisher"},"Description: ",r),o.a.createElement("p",{className:"publisher"},"PageCount: ",s),o.a.createElement("p",{className:"publisher"},"Published date: ",i),o.a.createElement("p",{className:"publisher"},"Published By: ",h)))}return o.a.createElement("div",null,"sdaf")}}]),t}(n.Component);function j(e){return o.a.createElement("div",{className:"header"},o.a.createElement(b.a,{to:"/",className:"main-h1"},"Book | Finder"),o.a.createElement(b.a,{className:"main-h1 bookshelf search-button",to:"/bookshelf"},"Bookshelf"))}var B=a(15);a(55);var C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(h.a)(this,Object(u.a)(t).call(this))).onInputChange=function(t){e.setState({input:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.setState({loading:!0,error:!1,errorType:""}),0===e.state.input.length?e.setState({error:!0,errorType:"empty input"}):e.fetchingData()},e.onClick=function(){e.setState({error:!1,errorType:""})},e.clearInput=function(){e.setState({input:""})},e.state={input:"",cards:[],loading:!1,error:!1,errorType:"",bookshelf:[],singlePage:!1},e.saveInBookshelf=function(e,t,a,n){if(a.length>0)if(void 0==a.find(function(e){return e.id==t})){var o=JSON.parse(localStorage.getItem("bookshelf"));o.push(Object(B.a)({id:t},n)),localStorage.setItem("bookshelf",JSON.stringify(o)),this.checkLocalStorage()}else{console.log("ever");var r=JSON.parse(localStorage.getItem("bookshelf"));r=r.filter(function(e){return e.id!==t}),localStorage.setItem("bookshelf",JSON.stringify(r)),this.checkLocalStorage()}else{var s=[];s.push(Object(B.a)({id:t},n)),localStorage.setItem("bookshelf",JSON.stringify(s)),this.checkLocalStorage()}}.bind(Object(m.a)(e)),e.checkLocalStorage=function(){if(null!==localStorage.getItem("bookshelf")){var e=JSON.parse(localStorage.getItem("bookshelf"));this.setState({bookshelf:e})}else this.setState({bookshelf:[]})}.bind(Object(m.a)(e)),e.fetchingData=function(){var e=this;fetch("".concat("https://www.googleapis.com/books/v1/volumes?q="+this.state.input,"&key=").concat("AIzaSyAOaVBnu7fgtzZVvuSjWw9MaGmDE3P73sA","&maxResults=40&orderBy=relevance")).then(function(e){if(e.ok)return e.json();throw new Error("Something went wrong")}).then(function(t){console.log(t);var a=[];0===t.totalItems?e.setState({error:!0,errorType:"empty response"}):(e.setState({error:!1,errorType:""}),t.items.forEach(function(e,t){a.push(new S(e.volumeInfo,e.id))})),e.setState({cards:a,loading:!1})}).catch(function(t){e.setState({error:!0,errorType:"something went wrong"})})}.bind(Object(m.a)(e)),e}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.checkLocalStorage()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(j,null),o.a.createElement(p.a,null,o.a.createElement(d.a,{exact:!0,path:"/",render:function(){var t;return o.a.createElement("div",null,o.a.createElement(g,{clearInput:e.clearInput,inputText:e.state.input,onInputChange:e.onInputChange,onSubmit:e.onSubmit,onClick:e.onClick}),e.state.error?o.a.createElement(I,{error:e.state.errorType}):e.state.loading?o.a.createElement("div",{style:{marginTop:"100px"}},o.a.createElement(N.a,(t={type:"Circles",color:"#ff6f00",marginTop:"100px"},Object(i.a)(t,"marginTop",100),Object(i.a)(t,"height",200),Object(i.a)(t,"width",200),Object(i.a)(t,"className","loader"),t))):e.state.cards.length>0?o.a.createElement(E,{bookshelf:e.state.bookshelf,saveInBookshelf:e.saveInBookshelf,cards:e.state.cards,loading:e.state.loading}):o.a.createElement(v,null))}}),o.a.createElement(d.a,{exact:!0,path:"/bookshelf",render:function(){return o.a.createElement(E,{bookshelf:e.state.bookshelf,saveInBookshelf:e.saveInBookshelf,cards:e.state.bookshelf,loading:e.state.loading})}}),o.a.createElement(d.a,{path:"/:id",render:function(t){return o.a.createElement(O,{id:t.match.params.id,saveInBookshelf:e.saveInBookshelf,bookshelf:e.state.bookshelf})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(59);s.a.render(o.a.createElement(T.a,null,o.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.fa620a97.chunk.js.map