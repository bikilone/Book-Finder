(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){},26:function(e,t,a){e.exports=a(75)},32:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(13),s=a.n(r),i=(a(32),a(5)),l=a(6),c=a(8),u=a(10),h=a(9),m=a(7),p=a(11),f=a(80),d=a(77),g=a(79);a(33),a(22);function b(e){var t=e.inputText,a=e.onInputChange,n=e.onSubmit,r=e.clearInput,s=e.onClick,i=e.showDropDownMenu,l=e.hideDropDownMenu,c=e.dropDown,u=e.queries,h=e.chooseFromDropMenu,m=u.filter(function(e,a){return e.includes(t)});return o.a.createElement("div",null,o.a.createElement("form",{action:"",onSubmit:n},o.a.createElement("input",{placeholder:"search ...",className:"input",type:"text",onChange:a,value:t,onFocusOut:l,onFocus:i}),o.a.createElement("span",{onClick:r},"X"),o.a.createElement("button",{onClick:s,className:"search-button",type:"submit"},"Search"),o.a.createElement("div",{className:"dropdown",style:{display:c}},o.a.createElement("ul",null,m.map(function(e,t){return o.a.createElement("li",{key:t,"data-value":e,className:"input",onClick:h},e)})))))}var v=a(76),k=a(14),E=a.n(k);a(47);function w(e){var t=e.card,a=t.title,n=t.author,r=t.publisher,s=(t.link,t.image),i=e.id,l=e.bookshelf,c="white";return l.length>0&&l.forEach(function(e){e.id!=i||(c="#ff3d02")}),o.a.createElement("div",{className:"card"},o.a.createElement("img",{src:s,alt:a}),o.a.createElement("div",{className:"card-right"},o.a.createElement("div",{className:"card-rigth-top"},o.a.createElement("h1",null,a),o.a.createElement("svg",{style:{cursor:"pointer"},onClick:function(t){e.saveInBookshelf(t,e.id,l,e.card)}},o.a.createElement("path",{"data-tip":"white"===c?"Save this book in your bookshelf":"Remove this book from your bookshelf",fill:c,xmlns:"http://www.w3.org/2000/svg",className:"a",d:"M33.688,36.755h11.5l3.584-10.911L52.3,36.755H63.8l-9.307,6.739,3.53,10.965L48.771,47.72l-9.307,6.739,3.53-10.965Z",transform:"translate(-33.688 -25.844)"}))),o.a.createElement("p",{className:"author"},"By: ",n),o.a.createElement("p",{className:"publisher"},"Published By: ",r),o.a.createElement(v.a,{to:"/".concat(i)},o.a.createElement("button",{className:"button"},"See this Book"))),o.a.createElement(E.a,{className:"tooltip",effect:"solid"}))}a(48),a(49);var S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={quote:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ron-swanson-quotes.herokuapp.com/v2/quotes").then(function(e){return e.json()}).then(function(t){return e.setState({quote:t})}).catch(function(t){return e.setState({quote:"Nothing yet"})})}},{key:"render",value:function(){return this.state.quote.length>0?o.a.createElement("div",{className:"landing"},'"'.concat(this.state.quote,'"')):o.a.createElement("p",{className:"landing"},'"Nothing yet"')}}]),t}(n.Component);function y(e){return o.a.createElement("div",{className:"card-list"},e.cards.length>0?e.cards.map(function(t,a){return o.a.createElement(w,{card:t,key:t.id,id:t.id,saveInBookshelf:e.saveInBookshelf,bookshelf:e.bookshelf})}):o.a.createElement(S,{message:"Empty bookshelf"}))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return e.length>50?e.slice(0,t)+"...":e}var O=function e(t,a){Object(l.a)(this,e),this.title=t.title?N(t.title):t.title,this.author=t.authors?function(e){return e.length>1?N(e.join(", ")):N(e)}(t.authors):"Unknown author",this.publisher=t.publisher?N(t.publisher):"Unknown publisher",this.image=t.imageLinks?t.imageLinks.thumbnail:"https://image.freepik.com/free-vector/books-stack-realistic_1284-4735.jpg",this.link=t.previewLink,this.id=a,this.categories=t.categories?t.categories:"Unknown",this.description=t.description?N(t.description,200):"n/a",this.pageCount=t.pageCount?t.pageCount:"n/a",this.publishedDate=t.publishedDate?t.publishedDate:"n/a"},D=a(15),I=a.n(D);a(71);function j(e){switch(e.error){case"empty input":return o.a.createElement("div",{className:"error"},"You must enter something in input");case"empty response":return o.a.createElement("div",{className:"error"},"There is no such book");case"something went wrong":return o.a.createElement("div",{className:"error"},"Something went wrong");default:return""}}a(72);var C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this))).state={id:e.id,saveInBookshelf:e.saveInBookshelf,bookshelf:e.bookshelf,data:"",error:!1,errorType:"",loading:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({bookshelf:e.bookshelf})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://www.googleapis.com/books/v1/volumes/".concat(this.state.id,"?key=").concat("AIzaSyAOaVBnu7fgtzZVvuSjWw9MaGmDE3P73sA")).then(function(e){return e.json()}).then(function(t){return new O(t.volumeInfo,e.state.id)}).then(function(t){e.setState({data:t,loading:!1,error:!1,errorType:""})}).catch(function(t){e.setState({error:!0,errorType:"something went wrong"})})}},{key:"render",value:function(){var e,t=this,a="white";if(this.state.bookshelf.length>0&&this.state.bookshelf.forEach(function(e){e.id!=t.state.id||(a="#ff3d02")}),!0===this.state.error)return o.a.createElement(j,{error:"something went wrong"});if(!0===this.state.loading)return o.a.createElement("div",{style:{marginTop:"100px"}},o.a.createElement(I.a,(e={type:"Circles",color:"#ff6f00",marginTop:"100px"},Object(i.a)(e,"marginTop",100),Object(i.a)(e,"height",200),Object(i.a)(e,"width",200),Object(i.a)(e,"className","loader"),e))," ");var n=this.state.data,r=n.categories,s=n.description,l=n.pageCount,c=n.publishedDate,u=n.image,h=n.title,m=n.publisher,p=n.author;return o.a.createElement("div",{style:{marginTop:"50px"},className:"single-page"},o.a.createElement("div",{className:"card ",style:{margin:"0 auto"}},o.a.createElement("img",{src:u,alt:""}),o.a.createElement("div",{className:"card-right"},o.a.createElement("div",{className:"card-rigth-top"},o.a.createElement("h1",null,h),o.a.createElement("svg",{onClick:function(e){t.state.saveInBookshelf(e,t.state.id,t.state.bookshelf,t.state.data)}},o.a.createElement("path",{"data-tip":"white"===a?"Save this book in your bookshelf":"Remove this book from your bookshelf",fill:a,xmlns:"http://www.w3.org/2000/svg",className:"a",d:"M33.688,36.755h11.5l3.584-10.911L52.3,36.755H63.8l-9.307,6.739,3.53,10.965L48.771,47.72l-9.307,6.739,3.53-10.965Z",transform:"translate(-33.688 -25.844)"}))),o.a.createElement("p",{className:"author"},"By: ",p),o.a.createElement("hr",null),o.a.createElement("p",{className:"publisher"},"Category: ",r[0]),o.a.createElement("hr",null),o.a.createElement("p",{className:"publisher"},"Description: ",s),o.a.createElement("hr",null),o.a.createElement("p",{className:"publisher"},"PageCount: ",l),o.a.createElement("hr",null),o.a.createElement("p",{className:"publisher"},"Published date: ",c),o.a.createElement("hr",null),o.a.createElement("p",{className:"publisher"},"Published By: ",m))),o.a.createElement(E.a,{className:"tooltip",effect:"solid"}))}}]),t}(n.Component);function B(e){return o.a.createElement("div",{className:"header"},o.a.createElement(v.a,{to:"/",className:"main-h1"},"Book | Finder"),o.a.createElement(v.a,{className:"bookshelf",to:"/bookshelf"},"My bookshelf"))}var M=a(19);a(73);var T=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).onInputChange=function(t){e.setState({input:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.setState({loading:!0,error:!1,errorType:"",dropDown:"none"}),0===e.state.input.length?e.setState({error:!0,errorType:"empty input"}):e.fetchingData(),e.saveInQueries(e.state.input),e.props.history.push("/")},e.onClick=function(){e.setState({error:!1,errorType:""})},e.clearInput=function(){e.setState({input:""})},e.showDropDownMenu=function(){e.setState({dropDown:"block"})},e.hideDropDownMenu=function(t){e.setState({dropDown:"none"})},e.chooseFromDropMenu=function(t){t.stopPropagation(),e.setState({input:t.target.dataset.value,dropDown:"none"},function(){e.fetchingData()})},e.state={input:"",cards:[],loading:!1,error:!1,errorType:"",bookshelf:[],singlePage:!1,dropDown:"none",queries:[]},e.saveInBookshelf=function(e,t,a,n){if(a.length>0)if(void 0==a.find(function(e){return e.id==t})){var o=JSON.parse(localStorage.getItem("bookshelf"));o.push(Object(M.a)({id:t},n)),localStorage.setItem("bookshelf",JSON.stringify(o)),this.checkLocalStorage()}else{var r=JSON.parse(localStorage.getItem("bookshelf"));r=r.filter(function(e){return e.id!==t}),localStorage.setItem("bookshelf",JSON.stringify(r)),this.checkLocalStorage()}else{var s=[];s.push(Object(M.a)({id:t},n)),localStorage.setItem("bookshelf",JSON.stringify(s)),this.checkLocalStorage()}}.bind(Object(m.a)(e)),e.checkLocalStorage=function(){if(null!==localStorage.getItem("bookshelf")){var e=JSON.parse(localStorage.getItem("bookshelf"));this.setState({bookshelf:e})}else this.setState({bookshelf:[]});if(null!==localStorage.getItem("queries")){var t=JSON.parse(localStorage.getItem("queries"));this.setState({queries:t})}else this.setState({queries:[]})}.bind(Object(m.a)(e)),e.fetchingData=function(){var e=this;fetch("".concat("https://www.googleapis.com/books/v1/volumes?q="+this.state.input,"&key=").concat("AIzaSyAOaVBnu7fgtzZVvuSjWw9MaGmDE3P73sA","&maxResults=40&orderBy=relevance")).then(function(e){if(e.ok)return e.json();throw new Error("Something went wrong")}).then(function(t){var a=[];0===t.totalItems?e.setState({error:!0,errorType:"empty response"}):(e.setState({error:!1,errorType:""}),t.items.forEach(function(e,t){a.push(new O(e.volumeInfo,e.id))})),e.setState({cards:a,loading:!1})}).catch(function(t){e.setState({error:!0,errorType:"something went wrong"})})}.bind(Object(m.a)(e)),e.saveInQueries=function(e){if(""!==e)if(null!==localStorage.getItem("queries")){var t=JSON.parse(localStorage.getItem("queries"));if(t.find(function(t){return t===e}))return;t.unshift(e),11===t.length&&t.pop(),localStorage.setItem("queries",JSON.stringify(t)),this.checkLocalStorage()}else{var a=[];a.push(e),localStorage.setItem("queries",JSON.stringify(a)),this.checkLocalStorage()}}.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.checkLocalStorage()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"wrapper"},o.a.createElement(B,null),o.a.createElement(b,{chooseFromDropMenu:this.chooseFromDropMenu,showDropDownMenu:this.showDropDownMenu,hideDropDownMenu:this.hideDropDownMenu,dropDown:this.state.dropDown,queries:this.state.queries,clearInput:this.clearInput,inputText:this.state.input,onInputChange:this.onInputChange,onSubmit:this.onSubmit,onClick:this.onClick}),o.a.createElement(f.a,null,o.a.createElement(d.a,{exact:!0,path:"/",render:function(){var t;return o.a.createElement("div",null,e.state.error?o.a.createElement(j,{error:e.state.errorType}):e.state.loading?o.a.createElement("div",{style:{marginTop:"100px"}},o.a.createElement(I.a,(t={type:"Circles",color:"#ff6f00",marginTop:"100px"},Object(i.a)(t,"marginTop",100),Object(i.a)(t,"height",200),Object(i.a)(t,"width",200),Object(i.a)(t,"className","loader"),t))):e.state.cards.length>0?o.a.createElement(y,{bookshelf:e.state.bookshelf,saveInBookshelf:e.saveInBookshelf,cards:e.state.cards,loading:e.state.loading}):o.a.createElement(S,null))}}),o.a.createElement(d.a,{exact:!0,path:"/bookshelf",render:function(){return o.a.createElement(y,{bookshelf:e.state.bookshelf,saveInBookshelf:e.saveInBookshelf,cards:e.state.bookshelf,loading:e.state.loading})}}),o.a.createElement(d.a,{path:"/:id",render:function(t){return o.a.createElement(C,{id:t.match.params.id,saveInBookshelf:e.saveInBookshelf,bookshelf:e.state.bookshelf})}}))),o.a.createElement("footer",null,"Copyright \xa9 2019 Milos Birovljevic"))}}]),t}(n.Component),q=Object(g.a)(T);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=a(78);s.a.render(o.a.createElement(x.a,null,o.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.102952b6.chunk.js.map