(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){},23:function(e,t,a){e.exports=a(60)},29:function(e,t,a){},30:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),s=a.n(o),i=(a(29),a(5)),l=a(6),c=a(7),h=a(9),u=a(8),m=a(11),f=a(10),p=a(65),d=a(62),g=a(64);a(19);function b(e){var t=e.inputText,a=e.onInputChange,n=e.onSubmit,o=e.clearInput,s=e.onClick;return r.a.createElement("div",null,r.a.createElement("form",{action:"",onSubmit:n},r.a.createElement("input",{placeholder:"search ...",className:"input",type:"text",onChange:a,value:t}),r.a.createElement("span",{onClick:o},"X"),r.a.createElement("button",{onClick:s,className:"search-button",type:"submit"},"Search")))}var v=a(61);a(30);function k(e){var t=e.card,a=t.title,n=t.author,o=t.publisher,s=(t.link,t.image),i=e.id,l=e.bookshelf,c="white";return l.length>0&&l.forEach(function(e){e.id!=i||(c="#ff3d02")}),r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:s,alt:""}),r.a.createElement("div",{className:"card-right"},r.a.createElement("div",{className:"card-rigth-top"},r.a.createElement("h1",null,a),r.a.createElement("svg",{style:{cursor:"pointer"},onClick:function(t){e.saveInBookshelf(t,e.id,l,e.card)}},r.a.createElement("path",{fill:c,xmlns:"http://www.w3.org/2000/svg",className:"a",d:"M33.688,36.755h11.5l3.584-10.911L52.3,36.755H63.8l-9.307,6.739,3.53,10.965L48.771,47.72l-9.307,6.739,3.53-10.965Z",transform:"translate(-33.688 -25.844)"}))),r.a.createElement("p",{className:"author"},"By: ",n),r.a.createElement("p",{className:"publisher"},"Published By: ",o),r.a.createElement(v.a,{to:"/".concat(i)},r.a.createElement("button",{className:"button"},"See this Book"))))}a(33),a(34);var E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={quote:""},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ron-swanson-quotes.herokuapp.com/v2/quotes").then(function(e){return e.json()}).then(function(t){return e.setState({quote:t})}).catch(function(t){return e.setState({quote:"Nothing yet"})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"landing"},'"'.concat(this.state.quote,'"'))}}]),t}(n.Component);function w(e){return r.a.createElement("div",{className:"card-list"},e.cards.length>0?e.cards.map(function(t,a){return r.a.createElement(k,{card:t,key:t.id,id:t.id,saveInBookshelf:e.saveInBookshelf,bookshelf:e.bookshelf})}):r.a.createElement(E,{message:"Empty bookshelf"}))}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return e.length>50?e.slice(0,t)+"...":e}var S=function e(t,a){Object(l.a)(this,e),this.title=t.title?y(t.title):t.title,this.author=t.authors?function(e){return e.length>1?y(e.join(", ")):y(e)}(t.authors):"Unknown author",this.publisher=t.publisher?y(t.publisher):"Unknown publisher",this.image=t.imageLinks?t.imageLinks.thumbnail:"https://image.freepik.com/free-vector/books-stack-realistic_1284-4735.jpg",this.link=t.previewLink,this.id=a,this.categories=t.categories?t.categories:"Unknown",this.description=t.description?y(t.description,200):"n/a",this.pageCount=t.pageCount?t.pageCount:"n/a",this.publishedDate=t.publishedDate?t.publishedDate:"n/a"},N=a(13),j=a.n(N);a(56);function O(e){switch(e.error){case"empty input":return r.a.createElement("div",{className:"error"},"You must enter something in input");case"empty response":return r.a.createElement("div",{className:"error"},"There is no such book");case"something went wrong":return r.a.createElement("div",{className:"error"},"Something went wrong");default:return""}}a(57);var I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this))).state={id:e.id,saveInBookshelf:e.saveInBookshelf,bookshelf:e.bookshelf,data:"",error:!1,errorType:"",loading:!0},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({bookshelf:e.bookshelf})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://www.googleapis.com/books/v1/volumes/".concat(this.state.id,"?key=").concat("AIzaSyAOaVBnu7fgtzZVvuSjWw9MaGmDE3P73sA")).then(function(e){return e.json()}).then(function(t){return new S(t.volumeInfo,e.state.id)}).then(function(t){e.setState({data:t,loading:!1,error:!1,errorType:""})}).catch(function(t){e.setState({error:!0,errorType:"something went wrong"})})}},{key:"render",value:function(){var e,t=this,a="white";if(this.state.bookshelf.length>0&&this.state.bookshelf.forEach(function(e){e.id!=t.state.id||(a="#ff3d02")}),!0===this.state.error)return r.a.createElement(O,{error:"something went wrong"});if(!0===this.state.loading)return r.a.createElement("div",{style:{marginTop:"100px"}},r.a.createElement(j.a,(e={type:"Circles",color:"#ff6f00",marginTop:"100px"},Object(i.a)(e,"marginTop",100),Object(i.a)(e,"height",200),Object(i.a)(e,"width",200),Object(i.a)(e,"className","loader"),e))," ");var n=this.state.data,o=n.categories,s=n.description,l=n.pageCount,c=n.publishedDate,h=n.image,u=n.title,m=n.publisher,f=n.author;return r.a.createElement("div",{style:{marginTop:"50px"},className:"single-page"},r.a.createElement("div",{className:"card ",style:{margin:"0 auto"}},r.a.createElement("img",{src:h,alt:""}),r.a.createElement("div",{className:"card-right"},r.a.createElement("div",{className:"card-rigth-top"},r.a.createElement("h1",null,u),r.a.createElement("svg",{onClick:function(e){t.state.saveInBookshelf(e,t.state.id,t.state.bookshelf,t.state.data)}},r.a.createElement("path",{fill:a,xmlns:"http://www.w3.org/2000/svg",className:"a",d:"M33.688,36.755h11.5l3.584-10.911L52.3,36.755H63.8l-9.307,6.739,3.53,10.965L48.771,47.72l-9.307,6.739,3.53-10.965Z",transform:"translate(-33.688 -25.844)"}))),r.a.createElement("p",{className:"author"},"By: ",f),r.a.createElement("hr",null),r.a.createElement("p",{className:"publisher"},"Category: ",o[0]),r.a.createElement("hr",null),r.a.createElement("p",{className:"publisher"},"Description: ",s),r.a.createElement("hr",null),r.a.createElement("p",{className:"publisher"},"PageCount: ",l),r.a.createElement("hr",null),r.a.createElement("p",{className:"publisher"},"Published date: ",c),r.a.createElement("hr",null),r.a.createElement("p",{className:"publisher"},"Published By: ",m))))}}]),t}(n.Component);function B(e){return r.a.createElement("div",{className:"header"},r.a.createElement(v.a,{to:"/",className:"main-h1"},"Book | Finder"),r.a.createElement(v.a,{className:"bookshelf",to:"/bookshelf"},"My bookshelf"))}var C=a(17);a(58);var T=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(h.a)(this,Object(u.a)(t).call(this))).onInputChange=function(t){e.setState({input:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.setState({loading:!0,error:!1,errorType:""}),0===e.state.input.length?e.setState({error:!0,errorType:"empty input"}):e.fetchingData(),e.props.history.push("/")},e.onClick=function(){e.setState({error:!1,errorType:""})},e.clearInput=function(){e.setState({input:""})},e.state={input:"",cards:[],loading:!1,error:!1,errorType:"",bookshelf:[],singlePage:!1},e.saveInBookshelf=function(e,t,a,n){if(a.length>0)if(void 0==a.find(function(e){return e.id==t})){var r=JSON.parse(localStorage.getItem("bookshelf"));r.push(Object(C.a)({id:t},n)),localStorage.setItem("bookshelf",JSON.stringify(r)),this.checkLocalStorage()}else{var o=JSON.parse(localStorage.getItem("bookshelf"));o=o.filter(function(e){return e.id!==t}),localStorage.setItem("bookshelf",JSON.stringify(o)),this.checkLocalStorage()}else{var s=[];s.push(Object(C.a)({id:t},n)),localStorage.setItem("bookshelf",JSON.stringify(s)),this.checkLocalStorage()}}.bind(Object(m.a)(e)),e.checkLocalStorage=function(){if(null!==localStorage.getItem("bookshelf")){var e=JSON.parse(localStorage.getItem("bookshelf"));this.setState({bookshelf:e})}else this.setState({bookshelf:[]})}.bind(Object(m.a)(e)),e.fetchingData=function(){var e=this;fetch("".concat("https://www.googleapis.com/books/v1/volumes?q="+this.state.input,"&key=").concat("AIzaSyAOaVBnu7fgtzZVvuSjWw9MaGmDE3P73sA","&maxResults=40&orderBy=relevance")).then(function(e){if(e.ok)return e.json();throw new Error("Something went wrong")}).then(function(t){var a=[];0===t.totalItems?e.setState({error:!0,errorType:"empty response"}):(e.setState({error:!1,errorType:""}),t.items.forEach(function(e,t){a.push(new S(e.volumeInfo,e.id))})),e.setState({cards:a,loading:!1})}).catch(function(t){e.setState({error:!0,errorType:"something went wrong"})})}.bind(Object(m.a)(e)),e}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.checkLocalStorage()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(B,null),r.a.createElement(b,{clearInput:this.clearInput,inputText:this.state.input,onInputChange:this.onInputChange,onSubmit:this.onSubmit,onClick:this.onClick}),r.a.createElement(p.a,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(){var t;return r.a.createElement("div",null,e.state.error?r.a.createElement(O,{error:e.state.errorType}):e.state.loading?r.a.createElement("div",{style:{marginTop:"100px"}},r.a.createElement(j.a,(t={type:"Circles",color:"#ff6f00",marginTop:"100px"},Object(i.a)(t,"marginTop",100),Object(i.a)(t,"height",200),Object(i.a)(t,"width",200),Object(i.a)(t,"className","loader"),t))):e.state.cards.length>0?r.a.createElement(w,{bookshelf:e.state.bookshelf,saveInBookshelf:e.saveInBookshelf,cards:e.state.cards,loading:e.state.loading}):r.a.createElement(E,null))}}),r.a.createElement(d.a,{exact:!0,path:"/bookshelf",render:function(){return r.a.createElement(w,{bookshelf:e.state.bookshelf,saveInBookshelf:e.saveInBookshelf,cards:e.state.bookshelf,loading:e.state.loading})}}),r.a.createElement(d.a,{path:"/:id",render:function(t){return r.a.createElement(I,{id:t.match.params.id,saveInBookshelf:e.saveInBookshelf,bookshelf:e.state.bookshelf})}}))),r.a.createElement("footer",null,"Copyright \xa9 2019 Milos Birovljevic"))}}]),t}(n.Component),x=Object(g.a)(T);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(63);s.a.render(r.a.createElement(D.a,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.25cbe297.chunk.js.map